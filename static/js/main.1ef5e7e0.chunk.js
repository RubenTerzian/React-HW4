(this["webpackJsonpreact-hw4"]=this["webpackJsonpreact-hw4"]||[]).push([[0],{20:function(e,t,n){},21:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var r=n(1),s=n.n(r),c=n(7),a=n.n(c),i=(n(20),n(21),n(3)),l=n(0),o=function(e){var t=e.className,n=e.onClick,r=e.name,s=e.disabled;return Object(l.jsx)("button",{className:t+"-btn",onClick:n,disabled:s,children:r},r+"_btn_key")},j=n(4),d=function(e){var t={hours:0,minutes:0,seconds:0};return e/60<1?t.seconds=e:e/3600<1?(t.minutes=Math.floor(e/60),t.seconds=e%60):(t.hours=Math.floor(e/3600),t.minutes=Math.floor(e/60%60),t.seconds=e%60),(t.hours<10?"0"+t.hours:t.hours)+":"+(t.minutes<10?"0"+t.minutes:t.minutes)+":"+(t.seconds<10?"0"+t.seconds:t.seconds)},u=function(e,t,n){var s=Object(r.useState)("00:00:00"),c=Object(j.a)(s,2),a=c[0],i=c[1],l=Object(r.useState)(0),o=Object(j.a)(l,2),u=o[0],b=o[1];return Object(r.useEffect)((function(){var t;return e&&(t=setInterval((function(){var e=d(u);i(e),b(u+1)}),20)),function(){clearInterval(t)}}),[e,i,u]),[a,function(){return i(t)},function(){return b(n)},u]},b=Object(i.b)(null,(function(e){return{delete:function(t){e({type:"DELETE_PARTICIPANT",payload:t})}}}))((function(e){var t=e.user,n=t.id,r=t.firstName,s=t.secondName,c=t.time,a="user_card_key";return Object(l.jsxs)("div",{className:"user-card",children:[Object(l.jsxs)("span",{children:[Object(l.jsx)("b",{children:"ID:"})," ",n]},a+"_id"),Object(l.jsxs)("span",{children:[Object(l.jsx)("b",{children:"Name:"})," ",r]},a+"_name"),Object(l.jsxs)("span",{children:[Object(l.jsx)("b",{children:"Surname:"})," ",s]},a+"_secName"),Object(l.jsxs)("span",{children:[Object(l.jsx)("b",{children:"Time:"})," ",d(c)]},a+"_time"),Object(l.jsx)(o,{className:"delete-user",name:"Delete",onClick:function(t){return e.delete(e.user)}})]},a+"_div")})),O=n(2),m=function(e){var t=e.name,n=e.type,r=e.placeholder,s=e.onChange;return Object(l.jsx)("input",{type:n,id:t,name:t,placeholder:r,onChange:s},t+"_inp_key")},f=n(15),h=n.n(f),p=function(e){var t=e.props,n=Object(r.useState)(!1),s=Object(j.a)(n,2),c=s[0],a=s[1],i=Object(r.useState)(!1),d=Object(j.a)(i,2),b=d[0],m=d[1],f=Object(r.useState)(!1),h=Object(j.a)(f,2),p=h[0],N=h[1],x=Object(r.useState)(!0),v=Object(j.a)(x,2),T=v[0],y=v[1],C=t.setCurrentParticipant,I=t.openTimer,S=t.addParticipant,P=t.currentParticipant,g=u(c,"00:00:00",0),R=Object(j.a)(g,4),w=R[0],E=R[1],_=R[2],A=R[3];return Object(l.jsx)("div",{className:"timer-container",children:Object(l.jsxs)("div",{className:"common-wraper",children:[Object(l.jsx)("h2",{children:"Participant"}),Object(l.jsxs)("p",{children:[Object(l.jsx)("b",{children:"ID:"})," ",P.id]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("b",{children:"Participant:"})," ",P.firstName+" "+P.secondName]}),Object(l.jsxs)("div",{className:"timer-wraper",children:[Object(l.jsx)("h1",{children:w}),Object(l.jsxs)("div",{className:"btn_section",children:[Object(l.jsx)(o,{className:"start",name:"Start",onClick:function(){a(!0),m(!0),N(!1),y(!0)},disabled:c||!b&&p}),Object(l.jsx)(o,{className:"stop",name:"Stop",onClick:function(){a(!1),m(!1),N(!0),y(!0)},disabled:!b}),Object(l.jsx)(o,{className:"reset",name:"Reset",onClick:function(){a(!1),m(!1),N(!1),y(!0),_(),E()},disabled:!p})]}),Object(l.jsxs)("div",{className:"final-btn-container",children:[Object(l.jsx)(o,{className:"cancel-timer",name:"Cancel",onClick:function(){C({}),t.openTimer()},disabled:!T}),Object(l.jsx)(o,{className:"save-timer",name:"Save",onClick:function(){A?(S(Object(O.a)(Object(O.a)({},P),{},{time:A})),C({}),I()):alert('\u0412\u0440\u0435\u043c\u044f \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c "00:00:00"')},disabled:!p})]})]})]})})},N=Object(i.b)((function(e){return{isTimerActive:e.isTimerActive,currentParticipant:e.currentParticipant}}),(function(e){return{addParticipant:function(t){var n=t.id,r=t.firstName,s=t.secondName,c=t.time;e({type:"ADD_PARTICIPANT",payload:{id:n,firstName:r,secondName:s,time:c}})},openTimer:function(){e({type:"OPEN_TIMER"})},setCurrentParticipant:function(t,n,r){e({type:"SET_CURRENT_PATICIPANT",payload:{id:t,firstName:n,secondName:r}})}}}))((function(e){var t=e.openTimer,n=e.isTimerActive,r=e.setCurrentParticipant;return Object(l.jsxs)("div",{className:"registration-form",children:[Object(l.jsx)("h2",{children:"Registration user"}),Object(l.jsxs)("form",{action:"submit",onSubmit:function(e){e.preventDefault();var n=e.target.elements,s=n.firstName,c=n.secondName;if(s.value&&c.value)if(s.value.match(/([A-z]|[\u0430-\u044f]|[\u0410-\u042f])/)&&c.value.match(/([A-z]|[\u0430-\u044f]|[\u0410-\u042f])/)){var a=h()();r(a,s.value,c.value),t(),s.value="",c.value="",s.className="",s.placeholder="Enter first name...",c.className="",c.placeholder="Enter second name..."}else alert("\u0412 \u0438\u043c\u0435\u043d\u0438 \u0438 \u0444\u0430\u043c\u0438\u043b\u0438\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u043d\u0430 \u0431\u0443\u043a\u0432\u0430");else s.value||(s.className="ampty-input",s.placeholder="\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435"),c.value||(c.className="ampty-input",c.placeholder="\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435")},children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{htmlFor:"first-name",children:"First name:"}),Object(l.jsx)(m,{name:"firstName",type:"text",placeholder:"Enter first name..."})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{htmlFor:"secondName",children:"Second name:"}),Object(l.jsx)(m,{name:"secondName",type:"text",placeholder:"Enter second name..."})]}),Object(l.jsx)(o,{className:"regis-patric",name:"Register participant"})]}),n&&Object(l.jsx)(p,{props:e})]})})),x=Object(i.b)((function(e){return{listOfUsers:e.listOfUsers,winner:e.winner}}),(function(e){return{showWinner:function(){e({type:"SHOW_WINNER"})}}}))((function(e){var t=e.listOfUsers,n=e.winner,r=e.showWinner;return Object(l.jsxs)("div",{className:"winner-info_container",children:[Object(l.jsxs)("h3",{children:["Total participants: ",t?t.length:"0"]}),n?Object(l.jsxs)("div",{className:"winner-info",children:[Object(l.jsxs)("span",{children:[Object(l.jsx)("b",{children:"ID:"})," ",n.id]}),Object(l.jsxs)("span",{children:[Object(l.jsx)("b",{children:"Name:"})," ",n.firstName]}),Object(l.jsxs)("span",{children:[Object(l.jsx)("b",{children:"Surname:"})," ",n.secondName]}),Object(l.jsxs)("span",{children:[Object(l.jsx)("b",{children:"Time:"})," ",d(n.time)]})]}):Object(l.jsx)(o,{className:"show-winner",name:"Show winner",onClick:r})]})}));var v=Object(i.b)((function(e){return{listOfUsers:e.listOfUsers,arrayForRender:e.arrayForRender}}),(function(e){return{filter:function(t){e({type:"FILTER",payload:t})}}}))((function(e){var t=e.arrayForRender;return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsxs)("div",{className:"users-container",children:[Object(l.jsx)(m,{name:"searchParticipants",placeholder:"Enter participant name...",onChange:function(t){e.filter(t.target.value)}}),Object(l.jsx)("div",{className:"users-cards",children:t.map((function(e){return Object(l.jsx)(b,{user:e})}))})]}),Object(l.jsxs)("div",{className:"aside-container",children:[Object(l.jsx)(N,{}),Object(l.jsx)(x,{})]})]})})),T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,31)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),r(e),s(e),c(e),a(e)}))},y=n(8),C=n(5),I="ADD_PARTICIPANT",S="SHOW_WINNER",P="DELETE_PARTICIPANT",g="FILTER",R="OPEN_TIMER",w="SET_CURRENT_PATICIPANT",E={listOfUsers:JSON.parse(localStorage.getItem("listOfUsers"))||[],winner:"",arrayForRender:JSON.parse(localStorage.getItem("listOfUsers"))||[],isFilter:!1,isTimerActive:!1,currentParticipant:{}},_=Object(y.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case I:return localStorage.listOfUsers=JSON.stringify([r].concat(Object(C.a)(e.arrayForRender))),Object(O.a)(Object(O.a)({},e),{},{listOfUsers:[r].concat(Object(C.a)(e.listOfUsers)),arrayForRender:e.isFilter?Object(C.a)(e.arrayForRender):[r].concat(Object(C.a)(e.arrayForRender)),winner:""});case S:var s=Object(C.a)(e.listOfUsers).sort((function(e,t){return e.time-t.time}));return Object(O.a)(Object(O.a)({},e),{},{winner:s[0]});case P:var c=e.listOfUsers.findIndex((function(e){return e.id===r.id})),a=Object(C.a)(e.listOfUsers);a.splice(c,1);var i=JSON.parse(localStorage.getItem("listOfUsers")),l=i.findIndex((function(e){return e.id===r.id}));return i.splice(l,1),localStorage.listOfUsers=JSON.stringify(i),Object(O.a)(Object(O.a)({},e),{},{listOfUsers:a,arrayForRender:a,winner:""});case g:var o=e.listOfUsers.filter((function(e){return e.firstName.toLowerCase().includes(r.toLowerCase())||e.id.toLowerCase().includes(r.toLowerCase())}));return Object(O.a)(Object(O.a)({},e),{},{arrayForRender:o,isFilter:!!r});case R:return Object(O.a)(Object(O.a)({},e),{},{isTimerActive:!e.isTimerActive});case w:return Object(O.a)(Object(O.a)({},e),{},{currentParticipant:r});default:return e}}));a.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(i.a,{store:_,children:Object(l.jsx)(v,{})})}),document.getElementById("root")),T()}},[[30,1,2]]]);
//# sourceMappingURL=main.1ef5e7e0.chunk.js.map