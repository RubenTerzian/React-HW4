(this["webpackJsonpreact-hw4"]=this["webpackJsonpreact-hw4"]||[]).push([[0],{20:function(e,t,n){},21:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var r=n(1),s=n.n(r),a=n(7),c=n.n(a),i=(n(20),n(21),n(3)),l=n(0),o=function(e){var t=e.className,n=e.onClick,r=e.name,s=e.disabled;return Object(l.jsx)("button",{className:t+"-btn",onClick:n,disabled:s,children:r},r+"_btn_key")},j=n(2),d=n(4),u=function(e){var t=e.name,n=e.type,r=e.placeholder,s=e.onChange;return Object(l.jsx)("input",{type:n,id:t,name:t,placeholder:r,onChange:s},t+"_inp_key")},b=n(15),O=n.n(b),m=function(e){var t={hours:0,minutes:0,seconds:0};return e/60<1?t.seconds=e:e/3600<1?(t.minutes=Math.floor(e/60),t.seconds=e%60):(t.hours=Math.floor(e/3600),t.minutes=Math.floor(e/60%60),t.seconds=e%60),(t.hours<10?"0"+t.hours:t.hours)+":"+(t.minutes<10?"0"+t.minutes:t.minutes)+":"+(t.seconds<10?"0"+t.seconds:t.seconds)},f=function(e){var t=e.props,n=Object(r.useState)("00:00:00"),s=Object(d.a)(n,2),a=s[0],c=s[1],i=Object(r.useState)(0),u=Object(d.a)(i,2),b=u[0],O=u[1],f=Object(r.useState)(!0),h=Object(d.a)(f,2),p=h[0],N=h[1],x=Object(r.useState)(!1),v=Object(d.a)(x,2),T=v[0],y=v[1],C=Object(r.useState)(!1),g=Object(d.a)(C,2),I=g[0],S=g[1],P=Object(r.useState)(!0),R=Object(d.a)(P,2),w=R[0],E=R[1],_=t.setCurrentParticipant,A=t.openTimer,F=t.addParticipant,U=t.currentParticipant;Object(r.useEffect)((function(){var e;return p||(e=setInterval((function(){var e=m(b);c(e),O(b+1)}),20)),function(){clearInterval(e)}}),[p,c,b]);return Object(l.jsx)("div",{className:"timer-container",children:Object(l.jsxs)("div",{className:"common-wraper",children:[Object(l.jsx)("h2",{children:"Participant"}),Object(l.jsxs)("p",{children:[Object(l.jsx)("b",{children:"ID:"})," ",U.id]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("b",{children:"Participant:"})," ",U.firstName+" "+U.secondName]}),Object(l.jsxs)("div",{className:"timer-wraper",children:[Object(l.jsx)("h1",{children:a}),Object(l.jsxs)("div",{className:"btn_section",children:[Object(l.jsx)(o,{className:"start",name:"Start",onClick:function(){N(!1),y(!0),S(!1),E(!0)},disabled:!p||!T&&I}),Object(l.jsx)(o,{className:"stop",name:"Stop",onClick:function(){N(!0),y(!1),S(!0),E(!0)},disabled:!T}),Object(l.jsx)(o,{className:"reset",name:"Reset",onClick:function(){N(!0),y(!1),S(!1),E(!0),O(0),c("00:00:00")},disabled:!I})]}),Object(l.jsxs)("div",{className:"final-btn-container",children:[Object(l.jsx)(o,{className:"cancel-timer",name:"Cancel",onClick:function(){_({}),t.openTimer()},disabled:!w}),Object(l.jsx)(o,{className:"save-timer",name:"Save",onClick:function(){b?(F(Object(j.a)(Object(j.a)({},U),{},{time:b})),_({}),A()):alert('\u0412\u0440\u0435\u043c\u044f \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c "00:00:00"')},disabled:!I})]})]})]})})},h=Object(i.b)((function(e){return{isTimerActive:e.isTimerActive,currentParticipant:e.currentParticipant}}),(function(e){return{addParticipant:function(t){var n=t.id,r=t.firstName,s=t.secondName,a=t.time;e({type:"ADD_PARTICIPANT",payload:{id:n,firstName:r,secondName:s,time:a}})},openTimer:function(){e({type:"OPEN_TIMER"})},setCurrentParticipant:function(t,n,r){e({type:"SET_CURRENT_PATICIPANT",payload:{id:t,firstName:n,secondName:r}})}}}))((function(e){var t=e.openTimer,n=e.isTimerActive,r=e.setCurrentParticipant;return Object(l.jsxs)("div",{className:"registration-form",children:[Object(l.jsx)("h2",{children:"Registration user"}),Object(l.jsxs)("form",{action:"submit",onSubmit:function(e){e.preventDefault();var n=e.target.elements,s=n.firstName,a=n.secondName;if(s.value&&a.value)if(s.value.match(/([A-z]|[\u0430-\u044f]|[\u0410-\u042f])/)&&a.value.match(/([A-z]|[\u0430-\u044f]|[\u0410-\u042f])/)){var c=O()();r(c,s.value,a.value),t(),s.value="",a.value="",s.className="",s.placeholder="Enter first name...",a.className="",a.placeholder="Enter second name..."}else alert("\u0412 \u0438\u043c\u0435\u043d\u0438 \u0438 \u0444\u0430\u043c\u0438\u043b\u0438\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u043d\u0430 \u0431\u0443\u043a\u0432\u0430");else s.value||(s.className="ampty-input",s.placeholder="\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435"),a.value||(a.className="ampty-input",a.placeholder="\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435")},children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{htmlFor:"first-name",children:"First name:"}),Object(l.jsx)(u,{name:"firstName",type:"text",placeholder:"Enter first name..."})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{htmlFor:"secondName",children:"Second name:"}),Object(l.jsx)(u,{name:"secondName",type:"text",placeholder:"Enter second name..."})]}),Object(l.jsx)(o,{className:"regis-patric",name:"Register participant"})]}),n&&Object(l.jsx)(f,{props:e})]})})),p=Object(i.b)(null,(function(e){return{delete:function(t){e({type:"DELETE_PARTICIPANT",payload:t})}}}))((function(e){var t=e.user,n=t.id,r=t.firstName,s=t.secondName,a=t.time,c="user_card_key";return Object(l.jsxs)("div",{className:"user-card",children:[Object(l.jsxs)("span",{children:[Object(l.jsx)("b",{children:"ID:"})," ",n]},c+"_id"),Object(l.jsxs)("span",{children:[Object(l.jsx)("b",{children:"Name:"})," ",r]},c+"_name"),Object(l.jsxs)("span",{children:[Object(l.jsx)("b",{children:"Surname:"})," ",s]},c+"_secName"),Object(l.jsxs)("span",{children:[Object(l.jsx)("b",{children:"Time:"})," ",m(a)]},c+"_time"),Object(l.jsx)(o,{className:"delete-user",name:"Delete",onClick:function(t){return e.delete(e.user)}})]},c+"_div")})),N=Object(i.b)((function(e){return{listOfUsers:e.listOfUsers,winner:e.winner}}),(function(e){return{showWinner:function(){e({type:"SHOW_WINNER"})}}}))((function(e){var t=e.listOfUsers,n=e.winner,r=e.showWinner;return Object(l.jsxs)("div",{className:"winner-info_container",children:[Object(l.jsxs)("h3",{children:["Total participants: ",t?t.length:"0"]}),n?Object(l.jsxs)("div",{className:"winner-info",children:[Object(l.jsxs)("span",{children:[Object(l.jsx)("b",{children:"ID:"})," ",n.id]}),Object(l.jsxs)("span",{children:[Object(l.jsx)("b",{children:"Name:"})," ",n.firstName]}),Object(l.jsxs)("span",{children:[Object(l.jsx)("b",{children:"Surname:"})," ",n.secondName]}),Object(l.jsxs)("span",{children:[Object(l.jsx)("b",{children:"Time:"})," ",m(n.time)]})]}):Object(l.jsx)(o,{className:"show-winner",name:"Show winner",onClick:r})]})}));var x=Object(i.b)((function(e){return{listOfUsers:e.listOfUsers,arrayForRender:e.arrayForRender}}),(function(e){return{filter:function(t){e({type:"FILTER",payload:t})}}}))((function(e){var t=e.arrayForRender;return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsxs)("div",{className:"users-container",children:[Object(l.jsx)(u,{name:"searchParticipants",placeholder:"Enter participant name...",onChange:function(t){e.filter(t.target.value)}}),Object(l.jsx)("div",{className:"users-cards",children:t.map((function(e){return Object(l.jsx)(p,{user:e})}))})]}),Object(l.jsxs)("div",{className:"aside-container",children:[Object(l.jsx)(h,{}),Object(l.jsx)(N,{})]})]})})),v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,31)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),r(e),s(e),a(e),c(e)}))},T=n(8),y=n(5),C="ADD_PARTICIPANT",g="SHOW_WINNER",I="DELETE_PARTICIPANT",S="FILTER",P="OPEN_TIMER",R="SET_CURRENT_PATICIPANT",w={listOfUsers:JSON.parse(localStorage.getItem("listOfUsers"))||[],winner:"",arrayForRender:JSON.parse(localStorage.getItem("listOfUsers"))||[],isFilter:!1,isTimerActive:!1,currentParticipant:{}},E=Object(T.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case C:return localStorage.listOfUsers=JSON.stringify([r].concat(Object(y.a)(e.arrayForRender))),console.log(e.arrayForRender),Object(j.a)(Object(j.a)({},e),{},{listOfUsers:[r].concat(Object(y.a)(e.listOfUsers)),arrayForRender:e.isFilter?Object(y.a)(e.arrayForRender):[r].concat(Object(y.a)(e.arrayForRender)),winner:""});case g:var s=Object(y.a)(e.listOfUsers).sort((function(e,t){return e.time-t.time}));return console.log(s[0]),Object(j.a)(Object(j.a)({},e),{},{winner:s[0]});case I:var a=e.listOfUsers.findIndex((function(e){return e.id===r.id})),c=Object(y.a)(e.listOfUsers);c.splice(a,1);var i=JSON.parse(localStorage.getItem("listOfUsers")),l=i.findIndex((function(e){return e.id===r.id}));return i.splice(l,1),localStorage.listOfUsers=JSON.stringify(i),Object(j.a)(Object(j.a)({},e),{},{listOfUsers:c,arrayForRender:c,winner:""});case S:var o=e.listOfUsers.filter((function(e){return e.firstName.toLowerCase().includes(r.toLowerCase())||e.id.toLowerCase().includes(r.toLowerCase())}));return Object(j.a)(Object(j.a)({},e),{},{arrayForRender:o,isFilter:!!r});case P:return Object(j.a)(Object(j.a)({},e),{},{isTimerActive:!e.isTimerActive});case R:return Object(j.a)(Object(j.a)({},e),{},{currentParticipant:r});default:return e}}));c.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(i.a,{store:E,children:Object(l.jsx)(x,{})})}),document.getElementById("root")),v()}},[[30,1,2]]]);
//# sourceMappingURL=main.c766a253.chunk.js.map